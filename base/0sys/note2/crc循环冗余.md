循环冗余校验（**Cyclic Redundancy Check, CRC**）是一种广泛应用于数据传输和存储领域的**错误检测编码**，其核心是通过多项式除法生成校验码，能够高效检测数据在传输或存储过程中发生的**多位错误**（如突发性错误）。与奇偶校验相比，CRC的检错能力更强，且实现效率高，因此被广泛应用于网络通信（如以太网、Wi-Fi）、存储系统（如硬盘、ZIP文件）等领域。

------

### **一、CRC的核心原理**

CRC基于**多项式除法**的思想，将数据视为一个二进制多项式，通过预定义的**生成多项式（Generator Polynomial）**进行模2除法运算，最终得到的余数即为**校验码（CRC值）**。接收端重复此过程，若余数与发送端不一致，则判定数据出错。

#### **关键概念**

1. **数据多项式**
   - 数据二进制序列转换为多项式，例如数据 `1011` 对应多项式 x^3+x+1
2. **生成多项式**
   - 预定义的除数多项式，如CRC-16-CCITT的标准多项式为 x^16+x^12+x^5+1（对应二进制 `10001000000100001`）。
3. **模2除法**
   - 二进制除法，不借位不减位，仅通过异或（XOR）操作实现。

------

### **二、CRC计算步骤**

1. **数据填充**
   - 在原始数据末尾添加 n*n* 个0（n*n* 为生成多项式的最高次幂，即校验码长度）。
2. **模2除法**
   - 用填充后的数据多项式除以生成多项式，得到余数。
3. **生成校验码**
   - 余数即为CRC校验码，附加到原始数据末尾发送。
4. **接收端验证**
   - 接收端用相同生成多项式对接收数据（含CRC）再做一次模2除法，若余数为0则无错误。

#### **示例：CRC-4（生成多项式 x^4+x+1，对应二进制 `10011`）**

- **原始数据**：`110101`

- **填充数据**：`110101` + `0000` → `1101010000`

- **模2除法**：

  ```
        1101010000  
      ÷ 10011  
      -----------  
        余数为 `1110`
  ```

- **发送数据**：`110101`**1110**

- **接收端验证**：

  - 若收到数据正确，余数为0；若出现错误，余数非0。

------

### **三、CRC的优缺点**

#### **优点**

1. **高检错能力**
   - 可检测所有单比特错误、双比特错误、奇数位错误及长度小于生成多项式次数的突发错误。
   - 例如，CRC-32可检测所有≤32比特的突发错误。
2. **高效实现**
   - 硬件层面可通过移位寄存器和异或门快速计算，软件层面使用查表法优化速度。
3. **广泛适用性**
   - 支持不同长度的生成多项式（如CRC-8、CRC-16、CRC-32），适应多种场景需求。

#### **缺点**

1. **无法纠错**
   - 仅能检测错误，需依赖重传机制（如TCP协议）或结合其他纠错码（如汉明码）修复错误。
2. **碰撞风险**
   - 极低概率下，不同错误可能生成相同余数（需选择强生成多项式降低概率）。

------

### **四、CRC的实际应用**

1. **网络通信**
   - **以太网（Ethernet）**：CRC-32校验帧数据。
   - **Wi-Fi（IEEE 802.11）**：使用CRC-32保护MAC帧。
   - **TCP/IP协议**：IP头部校验和为CRC-16变体。
2. **存储系统**
   - **硬盘/SSD**：CRC校验扇区数据，确保读写可靠性。
   - **ZIP/RAR压缩文件**：CRC-32校验压缩数据完整性。
3. **数字媒体**
   - **CD/DVD**：结合里德-所罗门码和CRC纠正物理损伤导致的错误。
   - **QR码**：使用CRC检测数据区域是否受损。
4. **嵌入式系统**
   - **CAN总线**：CRC-15校验车载网络通信。
   - **蓝牙**：CRC-16保护数据包。